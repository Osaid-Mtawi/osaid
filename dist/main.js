(()=>{"use strict";function t(t){const e=Math.floor(t/60),i=t%60;document.getElementById("timer-display").textContent=`${e}:${i<10?"0":""}${i}`}function e(t){document.getElementById("session-count").textContent=`Session: ${t}/4`}function i(t){document.getElementById("mode-display").textContent=t}const n=new class{constructor(){this.timeRemaining=1500,this.isRunning=!1,this.isBreakTime=!1,this.isLongBreak=!1,this.sessionCount=0,this.interval=null}start(){this.isRunning||(this.isRunning=!0,this.interval=setInterval((()=>this.tick()),1e3))}pause(){this.isRunning=!1,clearInterval(this.interval)}reset(){this.pause(),this.timeRemaining=1500,this.isBreakTime=!1,this.isLongBreak=!1,this.sessionCount=0,t(this.timeRemaining),i("Work"),e(this.sessionCount)}tick(){this.timeRemaining>0?(this.timeRemaining--,t(this.timeRemaining)):this.switchMode()}switchMode(){this.pause(),new Audio("notification.mp3").play().catch((t=>{console.log("Audio playback failed:",t),alert("Time is up!")})),this.isBreakTime?(this.isBreakTime=!1,this.isLongBreak=!1,this.timeRemaining=1500,i("Work")):(this.sessionCount++,this.isBreakTime=!0,this.sessionCount%4==0?(this.isLongBreak=!0,this.timeRemaining=900,i("Long Break")):(this.timeRemaining=300,i("Short Break")),e(this.sessionCount)),t(this.timeRemaining),this.start()}};document.addEventListener("DOMContentLoaded",(()=>{var t,e,i,s;!function(t=!1,e=!1){const i=document.getElementById("work-duration").value||25,n=document.getElementById("break-duration").value||5,s=document.getElementById("long-break-duration").value||15,a=t?e?s:n:i;document.getElementById("timer-display").textContent=`${a}:00`}(),t=()=>n.start(),e=()=>n.pause(),i=()=>n.reset(),document.getElementById("start-btn").addEventListener("click",t),document.getElementById("pause-btn").addEventListener("click",e),document.getElementById("reset-btn").addEventListener("click",i),s=()=>n.reset(),["work-duration","break-duration","long-break-duration"].forEach((t=>{document.getElementById(t).addEventListener("change",(e=>{const i=parseInt(e.target.value);i>0&&i<=60?s():(alert("Please enter a duration between 1 and 60 minutes"),e.target.value="work-duration"===t?25:"break-duration"===t?5:15)}))}))}))})();